<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Datos: Diseño de Esquemas | Bucle Creativo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Slab:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2E5BFF;
            --secondary-color: #00C9A7;
            --accent-color: #FF6B8B;
            --dark-color: #2D3748;
            --light-color: #F7FAFC;
            --gray-color: #A0AEC0;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: #f9f9fb;
            padding-bottom: 40px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), #4c7eff);
            color: white;
            padding: 1.5rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 1.8rem;
            color: var(--secondary-color);
        }

        .logo h1 {
            font-family: 'Roboto Slab', serif;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            font-weight: 300;
            margin-top: 3px;
        }

        .theme-tag {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 500;
            font-size: 1.1rem;
        }

        /* Main content */
        .main-title {
            text-align: center;
            margin: 3rem 0 2rem;
            padding: 0 20px;
        }

        .main-title h1 {
            font-family: 'Roboto Slab', serif;
            font-size: 2.8rem;
            color: var(--dark-color);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .highlight {
            color: var(--primary-color);
            position: relative;
        }

        .highlight::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: rgba(46, 91, 255, 0.2);
            z-index: -1;
        }

        .section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .section:hover {
            transform: translateY(-5px);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
        }

        .section-title i {
            font-size: 1.8rem;
            background-color: rgba(46, 91, 255, 0.1);
            padding: 12px;
            border-radius: 50%;
        }

        .section-title h2 {
            font-family: 'Roboto Slab', serif;
            font-size: 1.8rem;
        }

        .objective-box {
            background-color: rgba(0, 201, 167, 0.1);
            border-left: 5px solid var(--secondary-color);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 28px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(46, 91, 255, 0.2);
        }

        .btn:hover {
            background-color: #1a4dff;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(46, 91, 255, 0.3);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            box-shadow: 0 4px 6px rgba(0, 201, 167, 0.2);
        }

        .btn-secondary:hover {
            background-color: #00b597;
            box-shadow: 0 6px 12px rgba(0, 201, 167, 0.3);
        }

        .btn-accent {
            background-color: var(--accent-color);
            box-shadow: 0 4px 6px rgba(255, 107, 139, 0.2);
        }

        .btn-accent:hover {
            background-color: #ff5578;
            box-shadow: 0 6px 12px rgba(255, 107, 139, 0.3);
        }

        /* Example boxes */
        .example-box {
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--primary-color);
        }

        .example-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
            color: var(--dark-color);
        }

        .example-title i {
            color: var(--secondary-color);
        }

        .code-block {
            background-color: var(--dark-color);
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .code-keyword {
            color: #ff6b8b;
        }

        .code-table {
            color: #00c9a7;
        }

        .code-column {
            color: #2e5bff;
        }

        /* Challenge section */
        .challenge-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 2rem;
        }

        .challenge-card {
            flex: 1;
            min-width: 300px;
            background-color: #f0f7ff;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border-top: 5px solid var(--primary-color);
        }

        .challenge-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        /* Quiz section */
        .quiz-container {
            text-align: center;
            padding: 2rem;
        }

        .quiz-box {
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(46, 91, 255, 0.1);
        }

        .quiz-question {
            font-size: 1.4rem;
            margin-bottom: 2rem;
            font-weight: 600;
            color: var(--dark-color);
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 2rem;
        }

        .quiz-option {
            background-color: white;
            padding: 1.2rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            font-weight: 500;
        }

        .quiz-option:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
            border-color: rgba(46, 91, 255, 0.3);
        }

        .quiz-option.selected {
            background-color: rgba(46, 91, 255, 0.1);
            border-color: var(--primary-color);
        }

        .quiz-option.correct {
            background-color: rgba(0, 201, 167, 0.2);
            border-color: var(--secondary-color);
        }

        .quiz-option.incorrect {
            background-color: rgba(255, 107, 139, 0.2);
            border-color: var(--accent-color);
        }

        .feedback {
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            font-weight: 500;
            display: none;
        }

        .feedback.correct {
            background-color: rgba(0, 201, 167, 0.1);
            color: #007a63;
            display: block;
        }

        .feedback.incorrect {
            background-color: rgba(255, 107, 139, 0.1);
            color: #cc2e5c;
            display: block;
        }

        .score-container {
            margin-top: 2rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .score-value {
            font-size: 1.8rem;
            color: var(--secondary-color);
        }

        /* Footer */
        .footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2.5rem 0;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content p {
            margin-bottom: 0.5rem;
        }

        .footer-name {
            color: var(--secondary-color);
            font-weight: 600;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-title h1 {
                font-size: 2.2rem;
            }
            
            .section {
                padding: 1.5rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .challenge-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-infinity"></i>
                <div>
                    <h1>Bucle creativo</h1>
                    <p class="subtitle">Taller diseñado con el corazón de un docente y la mente de un programador.</p>
                </div>
            </div>
            <div class="theme-tag">Base de datos: Diseño de esquemas</div>
        </div>
    </header>

    <main class="container">
        <!-- Main Title -->
        <div class="main-title">
            <h1>Construyendo el <span class="highlight">esqueleto digital</span> de la información</h1>
            <p>Un viaje práctico al corazón de las bases de datos para estudiantes de bachillerato</p>
        </div>

        <!-- Learning Objective -->
        <section class="section">
            <div class="section-title">
                <i class="fas fa-bullseye"></i>
                <h2>Objetivo de aprendizaje</h2>
            </div>
            <div class="objective-box">
                <p><strong>Diseñar esquemas de bases de datos relacionales</strong> mediante el análisis de problemas reales, la identificación de entidades y relaciones, y la aplicación de principios de normalización, para organizar información de manera eficiente, lógica y escalable, desarrollando competencias técnicas en modelado de datos, habilidades cognitivas de abstracción y resolución de problemas, y actitudes de curiosidad, rigor y ética en el manejo de información.</p>
            </div>
        </section>

        <!-- Context -->
        <section class="section">
            <div class="section-title">
                <i class="fas fa-seedling"></i>
                <h2>Contextualización: La información que nos rodea</h2>
            </div>
            <p>Imagina por un momento tu aplicación de música favorita. Cada canción que escuchas, cada playlist que creas, cada artista que sigues, está almacenado en algún lugar. ¿Te has preguntado cómo organizan toda esa información? ¿Cómo saben qué canciones te gustan, qué álbumes has escuchado, o qué géneros prefieres?</p>
            
            <p>En tu colegio ocurre algo similar: los datos de cada estudiante, las materias, los profesores, las calificaciones... Todo sigue un orden invisible pero esencial. Cuando ese orden falla, el caos se instala: se pierden registros, se duplica información, o simplemente no podemos encontrar lo que necesitamos.</p>
            
            <p>Hoy exploraremos el arte y ciencia de diseñar esos "esqueletos digitales" que dan estructura a la información que mueve nuestro mundo. No se trata solo de tablas y columnas, sino de <strong>crear sistemas que reflejen la complejidad y belleza de la realidad</strong>, con lógica, elegancia y propósito.</p>
        </section>

        <!-- Activity Development -->
        <section class="section">
            <div class="section-title">
                <i class="fas fa-cogs"></i>
                <h2>Desarrollo de la actividad: Conceptos y práctica</h2>
            </div>
            
            <h3>1. La base de todo: Entidades y Atributos</h3>
            <p>Piensa en una entidad como un "personaje" en nuestra historia de datos. En el sistema de tu colegio, algunos personajes serían: <strong>Estudiante</strong>, <strong>Profesor</strong>, <strong>Materia</strong>. Cada personaje tiene características propias (atributos): un estudiante tiene nombre, fecha de nacimiento, dirección...</p>
            
            <div class="example-box">
                <div class="example-title">
                    <i class="fas fa-lightbulb"></i>
                    <h4>Ejemplo práctico: El sistema de biblioteca</h4>
                </div>
                <p>En la biblioteca del colegio, identificamos estas entidades:</p>
                <ul style="padding-left: 1.5rem; margin: 1rem 0;">
                    <li><strong>Libro</strong> (atributos: código, título, autor, año, género)</li>
                    <li><strong>Estudiante</strong> (atributos: cédula, nombre, curso, correo)</li>
                    <li><strong>Préstamo</strong> (atributos: fecha_préstamo, fecha_devolución, estado)</li>
                </ul>
            </div>
            
            <h3>2. Las conexiones que importan: Relaciones</h3>
            <p>Los personajes de nuestra historia interactúan entre sí. Un <strong>estudiante</strong> toma prestado un <strong>libro</strong>. Esta interacción es una relación. En bases de datos, documentamos estas relaciones con cuidado, porque definen cómo se conecta la información.</p>
            
            <div class="code-block">
                <span class="code-keyword">CREATE TABLE</span> <span class="code-table">Estudiante</span> (<br>
                &nbsp;&nbsp;<span class="code-column">cedula</span> VARCHAR(10) <span class="code-keyword">PRIMARY KEY</span>,<br>
                &nbsp;&nbsp;<span class="code-column">nombre</span> VARCHAR(50) <span class="code-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;<span class="code-column">curso</span> VARCHAR(20),<br>
                &nbsp;&nbsp;<span class="code-column">correo</span> VARCHAR(100)<br>
                );<br><br>
                
                <span class="code-keyword">CREATE TABLE</span> <span class="code-table">Prestamo</span> (<br>
                &nbsp;&nbsp;<span class="code-column">id</span> INT <span class="code-keyword">PRIMARY KEY AUTO_INCREMENT</span>,<br>
                &nbsp;&nbsp;<span class="code-column">fecha_prestamo</span> DATE <span class="code-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;<span class="code-column">estudiante_cedula</span> VARCHAR(10),<br>
                &nbsp;&nbsp;<span class="code-keyword">FOREIGN KEY</span> (estudiante_cedula) <span class="code-keyword">REFERENCES</span> <span class="code-table">Estudiante</span>(cedula)<br>
                );
            </div>
            
            <h3>3. El principio de la elegancia: Normalización</h3>
            <p>La normalización es como organizar tu mochila escolar: cada cosa en su lugar, sin duplicados, sin desorden. Buscamos que cada dato tenga un solo hogar en nuestra base de datos. Esto evita inconsistencias y ahorra espacio.</p>
            
            <div class="example-box">
                <div class="example-title">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>Reflexión consciente</h4>
                </div>
                <p>¿Qué pasaría si, en lugar de relacionar estudiantes con préstamos, repetimos los datos del estudiante en cada préstamo? Imagina que un estudiante cambia de correo electrónico: tendríamos que actualizar decenas de registros. La normalización nos protege de estos problemas.</p>
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn btn-secondary" id="exploreBtn">
                    <i class="fas fa-search"></i> Explorar más ejemplos
                </button>
            </div>
        </section>

        <!-- Final Challenge -->
        <section class="section">
            <div class="section-title">
                <i class="fas fa-flag-checkered"></i>
                <h2>El reto final: Diseña tu propio esquema</h2>
            </div>
            
            <p>Ahora es tu turno. Trabajando en equipos de 3 personas, deberás diseñar el esquema completo de una base de datos para uno de estos escenarios reales:</p>
            
            <div class="challenge-container">
                <div class="challenge-card">
                    <h3><i class="fas fa-utensils"></i> Opción 1: Sistema de pedidos para un food truck</h3>
                    <p>Un food truck "Sabores Andinos" necesita organizar sus pedidos, clientes, menú y pagos. Debes considerar que un cliente puede hacer múltiples pedidos, y cada pedido puede incluir varios items del menú.</p>
                </div>
                
                <div class="challenge-card">
                    <h3><i class="fas fa-football-ball"></i> Opción 2: Gestión de un torneo intercolegial</h3>
                    <p>El torneo de fútbol intercolegial necesita registrar equipos, jugadores, partidos y resultados. Considera que cada equipo tiene varios jugadores, y cada partido enfrenta a dos equipos con un resultado específico.</p>
                </div>
            </div>
            
            <p style="margin-top: 1.5rem;"><strong>Tu diseño debe incluir:</strong></p>
            <ul style="padding-left: 1.5rem; margin: 1rem 0;">
                <li>Identificación de al menos 4 entidades principales</li>
                <li>Lista de atributos para cada entidad</li>
                <li>Diagrama de relaciones entre entidades</li>
                <li>Script SQL con la creación de 2 tablas (puedes hacerlo en papel o en un documento digital)</li>
                <li>Reflexión sobre al menos un principio de normalización aplicado</li>
            </ul>
            
            <p style="margin-top: 1.5rem; font-style: italic;">Recuerda: no hay una única respuesta correcta. Lo importante es que tu diseño sea lógico, coherente y resuelva eficientemente el problema planteado.</p>
        </section>

        <!-- Interactive Quiz -->
        <section class="section">
            <div class="section-title">
                <i class="fas fa-gamepad"></i>
                <h2>Evaluación lúdica: Pon a prueba tu comprensión</h2>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-box">
                    <div class="quiz-question" id="question-text">Cargando pregunta...</div>
                    
                    <div class="quiz-options" id="options-container">
                        <!-- Las opciones se cargarán con JavaScript -->
                    </div>
                    
                    <div class="feedback" id="feedback"></div>
                    
                    <button class="btn btn-accent" id="next-btn" disabled>
                        Siguiente pregunta <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                
                <div class="score-container">
                    Puntaje: <span class="score-value" id="score">0</span>/5
                </div>
                
                <div style="margin-top: 1.5rem;">
                    <button class="btn" id="restart-btn">
                        <i class="fas fa-redo"></i> Reiniciar cuestionario
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-content">
            <p>Bucle creativo</p>
            <p>Taller diseñado con el corazón de un docente y la mente de un programador.</p>
            <p style="margin-top: 1rem;">Tema: Base de datos - Diseño de esquemas de bases de datos</p>
            <p style="margin-top: 1.5rem;">Diseñado por: <span class="footer-name">Edwin Méndez J.</span></p>
        </div>
    </footer>

    <script>
        // Datos para el cuestionario
        const quizQuestions = [
            {
                question: "En el contexto de bases de datos, ¿qué es una 'entidad'?",
                options: [
                    "Una tabla que almacena datos",
                    "Un objeto o concepto del mundo real sobre el cual almacenamos información",
                    "La relación entre dos tablas",
                    "Un tipo de dato como VARCHAR o INT"
                ],
                correctAnswer: 1,
                feedback: "¡Correcto! Una entidad representa un objeto o concepto del mundo real (como Estudiante, Libro o Producto) sobre el cual queremos almacenar información."
            },
            {
                question: "¿Cuál es la principal ventaja de la normalización en bases de datos?",
                options: [
                    "Hace que las consultas sean más rápidas automáticamente",
                    "Elimina la redundancia de datos y previene inconsistencias",
                    "Permite almacenar más datos en menos espacio",
                    "Facilita el diseño de interfaces de usuario"
                ],
                correctAnswer: 1,
                feedback: "¡Exacto! La normalización organiza los datos para minimizar la redundancia y evitar anomalías en la inserción, actualización o eliminación de información."
            },
            {
                question: "Si tenemos una tabla 'Préstamos' que incluye el nombre del estudiante repetido en cada préstamo, ¿qué problema de diseño estamos enfrentando?",
                options: [
                    "No hay problema, es una práctica común",
                    "Falta de normalización, lo que puede llevar a inconsistencias",
                    "Falta de índices en la tabla",
                    "Uso incorrecto de tipos de datos"
                ],
                correctAnswer: 1,
                feedback: "¡Correcto! Esto es un problema de normalización. Si el estudiante cambia su nombre, tendríamos que actualizar múltiples registros, pudiendo generar inconsistencias."
            },
            {
                question: "En una relación 'un estudiante puede tener varios préstamos de libros', ¿cómo se llama este tipo de relación?",
                options: [
                    "Relación uno a uno (1:1)",
                    "Relación uno a muchos (1:N)",
                    "Relación muchos a muchos (M:N)",
                    "Relación de herencia"
                ],
                correctAnswer: 1,
                feedback: "¡Perfecto! Es una relación uno a muchos (1:N): un estudiante (uno) puede tener múltiples préstamos (muchos), pero cada préstamo pertenece a un solo estudiante."
            },
            {
                question: "¿Qué representa una 'clave foránea' (FOREIGN KEY) en una tabla de base de datos?",
                options: [
                    "Una contraseña para acceder a la tabla",
                    "El campo más importante de la tabla",
                    "Un campo que establece una relación con la clave primaria de otra tabla",
                    "Un índice que acelera las búsquedas"
                ],
                correctAnswer: 2,
                feedback: "¡Excelente! Una clave foránea es un campo (o conjunto de campos) en una tabla que hace referencia a la clave primaria de otra tabla, estableciendo una relación entre ambas."
            }
        ];

        // Variables para el estado del cuestionario
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = new Array(quizQuestions.length).fill(null);

        // Elementos del DOM
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('next-btn');
        const restartButton = document.getElementById('restart-btn');
        const scoreElement = document.getElementById('score');
        const exploreBtn = document.getElementById('exploreBtn');

        // Función para cargar la pregunta actual
        function loadQuestion() {
            const question = quizQuestions[currentQuestion];
            
            // Mostrar el texto de la pregunta
            questionText.textContent = `Pregunta ${currentQuestion + 1}: ${question.question}`;
            
            // Limpiar opciones anteriores
            optionsContainer.innerHTML = '';
            
            // Crear las opciones de respuesta
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('quiz-option');
                
                // Si el usuario ya respondió esta pregunta, marcar la opción seleccionada
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                    
                    // Marcar si es correcta o incorrecta
                    if (index === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    } else {
                        optionElement.classList.add('incorrect');
                    }
                }
                
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Mostrar retroalimentación si ya se respondió
            if (userAnswers[currentQuestion] !== null) {
                feedbackElement.textContent = question.feedback;
                feedbackElement.classList.add(userAnswers[currentQuestion] === question.correctAnswer ? 'correct' : 'incorrect');
                nextButton.disabled = false;
            } else {
                feedbackElement.textContent = '';
                feedbackElement.classList.remove('correct', 'incorrect');
                nextButton.disabled = true;
            }
            
            // Actualizar puntaje
            scoreElement.textContent = score;
        }

        // Función para seleccionar una opción
        function selectOption(optionIndex) {
            // Solo permitir selección si no se ha respondido esta pregunta
            if (userAnswers[currentQuestion] !== null) return;
            
            const question = quizQuestions[currentQuestion];
            userAnswers[currentQuestion] = optionIndex;
            
            // Verificar si la respuesta es correcta
            if (optionIndex === question.correctAnswer) {
                score++;
            }
            
            // Mostrar retroalimentación
            feedbackElement.textContent = question.feedback;
            feedbackElement.classList.add(optionIndex === question.correctAnswer ? 'correct' : 'incorrect');
            
            // Habilitar el botón de siguiente pregunta
            nextButton.disabled = false;
            
            // Recargar la pregunta para mostrar las marcas
            loadQuestion();
        }

        // Función para ir a la siguiente pregunta
        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                // Mostrar resultados finales
                questionText.textContent = `¡Cuestionario completado! Obtuviste ${score} de ${quizQuestions.length} respuestas correctas.`;
                optionsContainer.innerHTML = '';
                feedbackElement.textContent = score === quizQuestions.length 
                    ? "¡Excelente! Dominas los conceptos fundamentales del diseño de esquemas de bases de datos." 
                    : score >= quizQuestions.length / 2 
                    ? "¡Buen trabajo! Tienes una base sólida, pero aún hay conceptos por reforzar." 
                    : "No te desanimes. Revisa los conceptos y vuelve a intentarlo. El aprendizaje es un proceso.";
                feedbackElement.classList.add('correct');
                nextButton.style.display = 'none';
            }
        }

        // Función para reiniciar el cuestionario
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers.fill(null);
            feedbackElement.textContent = '';
            feedbackElement.classList.remove('correct', 'incorrect');
            nextButton.disabled = true;
            nextButton.style.display = 'inline-block';
            loadQuestion();
        }

        // Función para mostrar ejemplos adicionales
        function showMoreExamples() {
            alert("Ejemplo adicional: Sistema de gestión de una tienda de ropa\n\nEntidades:\n1. Producto (id, nombre, talla, color, precio, stock)\n2. Cliente (id, nombre, email, teléfono)\n3. Venta (id, fecha, cliente_id, total)\n4. DetalleVenta (id, venta_id, producto_id, cantidad, subtotal)\n\nRelaciones:\n- Un cliente puede tener muchas ventas (1:N)\n- Una venta puede incluir muchos productos (a través de DetalleVenta)\n- Un producto puede aparecer en muchas ventas (M:N, resuelto con DetalleVenta)");
        }

        // Event Listeners
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restartQuiz);
        exploreBtn.addEventListener('click', showMoreExamples);

        // Inicializar el cuestionario
        loadQuestion();
    </script>
</body>
</html>